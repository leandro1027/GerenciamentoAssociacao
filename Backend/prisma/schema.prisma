generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Usuario {
  id       Int        @id @default(autoincrement())
  nome     String
  email    String
  senha    String
  role       String   @default("USER")
  telefone String?
  voluntario Voluntario?
  doacoes   Doacao[]
  passwordResetToken   String?
  passwordResetExpires DateTime?
}

model Voluntario {
  id         Int      @id @default(autoincrement())
  usuarioId  Int      @unique
  motivo     String
  status     String   @default("pendente") // "pendente", "aprovado", "recusado"
  usuario    Usuario  @relation(fields: [usuarioId], references: [id])
}

model Doacao {
  id         Int      @id @default(autoincrement())
  usuarioId  Int
  valor      Float
  tipo       String   // "pix"
  data       DateTime @default(now())
  usuario    Usuario  @relation(fields: [usuarioId], references: [id])
}

model Slide {
  id        Int      @id @default(autoincrement())
  imageUrl  String
  title     String
  subtitle  String?
  createdAt DateTime @default(now())
}


